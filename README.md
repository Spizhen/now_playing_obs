# Now Playing script for OBS (for Windows OS only)

Now Playing - это универсальный скрипт для OBS, который обновляет информацию о воcпроизводимой музыке в слоях (источниках) OBS, в реальном времени.

Информация подтягивается напрямую из медиаплеера Windows, в который попадает практически любой медиаконтент который в данный момент воспроизводится. Это могут быть как нативные приложения, такие как Яндекс.Музыка, Spotify, VLC, так и онлайн сервисы в браузере, например YouTube, YouTube Music, VK Музыка и т.д.

Работает только с ОС Windows!

## Требования

- [OBS](https://obsproject.com/ru) (Open Broadcaster Software)
- [Python](https://www.python.org/) 3.11.7 (другие версии не тестировались)
- [Python Windows SDK](https://pypi.org/project/winsdk/)

## Установка и настройка (подробно)

- Скачиваем и устанавливаем ([Python для Windows](https://www.python.org/ftp/python/3.11.7/python-3.11.7-amd64.exe)). После запуска установщика обязательно поставьте галочку `Add Python to PATH`, далее можно воспользоваться стандартной установкой.
- После установки Python, перезагрузите компьютер.
- Далее нужно установить `winsdk`. Для этого нужно открыть комнадную строку. Самый простой способ - нажать `Win + R`, написать `cmd.exe` и нажать кнопку `OK`. После этого откроется командная строка Windows. Копируем `pip install winsdk` и в командной строке в любом месте жмем правую кнопку мыши и жмем энтер. Если все прошло успешно, вы увидите сообщение `Successfully installed winsdk`.
- Теперь надо получить путь установки Python (понадобится при настройке OBS). Для этого в этом же окне вставьте (правой мышью) следующий текст `python -c "import sys; import os; print(os.path.dirname(sys.executable))"` и нажмите энтер. Если все прошло успешно, вы увидите похожее сообщение `C:\Users\username\AppData\Local\Programs\Python\Python311`. Скопируйте его (тоже правой мышью), оно понадобится нам чуть позже.
- Открываем OBS. Создаем два текстовых слоя `(Текст GDI+)` и один слой `Изображение`.
- Жмем `Сервис -> Скрипты`. Переходим во вторую вкладку `Настройки Python` и в строке путь установки, вставляем скопированный текст из командной строки. Если все прошло успешно, под строкой пути будет написано "Загружена версия Python 3.xx". Возвращаемся на первую вкладку.
- Скачиваем проект (жмем наверху "Code" => "Download ZIP") и распаковываем его куда-нибудь на ПК, но куда-нибудь подальше, чтобы не удалить случайно, например в "Мои Документы". Возвращаемся в OBS и жмем плюсик. Находим папку куда разархивировали проект и выбираем файл `GSMT_NowPlaying.py`.
- Если скрипт загрузился, справа появятся настройки скрипта.
- Тут вам нужно выбрать:
- - папку куда будет загружаться обложка песни, любая, даже та где лежит код.
- - текстовый слой для заголовка
- - текстовый слой для исполнителя
- - слой изображения для отображения обложки
- Ставим галочку Enabled, закрываем окно.
- Включаем музыку.
- Готово!
- Ставим и настраиваем внешний вид слоёв свой вкус! В видеоинструкции ниже Женя подготовил вам примеры шикарных вариантов для отображения.

## Видеоинструкция по установке и настройке от стримера-барабанщика [bobochka_live](https://www.twitch.tv/bobochka_live)

[![КАК ВЫВЕСТИ НАЗВАНИЕ ТРЕКА\ПЕСНИ НА СТРИМ В OBS](https://img.youtube.com/vi/Zd8wbZKaf0U/0.jpg)](https://www.youtube.com/watch?v=Zd8wbZKaf0U)

Подписывайтесь на крутого барабанщика Евгения в [Twitch](https://www.twitch.tv/bobochka_live), [YouTube](https://www.youtube.com/@Bobochka_) и [Telegram](https://t.me/bobo_public), чтобы не пропускать новые стримы и гайды!

## Связанные проекты

- [now_playing](https://github.com/rsp4jack/now_playing) with Pywin32
- [now playing for Rainmeter](https://forum.rainmeter.net/viewtopic.php?t=37088&start=50#p219668)

## Лицензия

[MIT](https://choosealicense.com/licenses/mit/)
